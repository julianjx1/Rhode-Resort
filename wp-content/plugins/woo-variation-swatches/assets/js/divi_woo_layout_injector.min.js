function wli_refresh_cart_count(){var o=0;jQuery(".sb_woo_mini_cart ul li").length&&jQuery(".sb_woo_mini_cart ul li").each(function(){var e=jQuery(this).children(".quantity").text(),r=e.split(" "),c=parseInt(r[0]);o+=c}),o<=0&&(o=""),jQuery(".sb_woo_prod_cart_container .et-cart-info span").text(o)}function sb_woo_popup_notice(o){jQuery("html, body").scrollTop(0),jQuery.colorbox({html:o,width:"50%",className:"woocommerce"})}function sb_woo_maybe_submit_checkout_coupon(){jQuery(this).keypress(function(o){13==o.which&&sb_woo_submit_checkout_coupon()})}function sb_woo_submit_checkout_coupon(){if(jQuery(".coupon-module").length){jQuery(".coupon-module").parent().removeClass("woocommerce-invalid").removeClass("woocommerce-validated");var o=jQuery(".coupon-module").val();""!=o?(jQuery("#coupon_code").val(o),jQuery(".checkout_coupon").submit()):jQuery(".coupon-module").parent().addClass("woocommerce-invalid").removeClass("woocommerce-validated")}return!1}function sb_woo_variation_image(){var o=jQuery(".single-product .cart.variations_form").data("product_variations"),e="",r="",c="",t=[],u=0,_=0,n=[],i="";jQuery(".single-product .cart.variations_form .variations .value select").each(function(o,_){e=jQuery(this).val(),r=jQuery(this).attr("id"),c="attribute_"+r,e&&(t.push([c,e]),u++)}),u>0&&(jQuery(o).each(function(o,e){var r=e.attributes;_=0,jQuery(r).each(function(o,e){jQuery(e).each(function(o,e){jQuery(t).each(function(o,r){e[r[0]]!=r[1]&&""!=e[r[0]]||_++})})}),_>=u&&(n=e)}),i=void 0!==n.image?n.image.full_src:jQuery(".sb_woo_product_thumb_col_num_1 a").data("large_image"),sb_woo_product_thumb_replace_by_url(i,jQuery(".sb_woo_product_image_container")))}function sb_woo_product_thumb_replace_by_url(o,e){if(jQuery(".single-product .sb_woo_product_image img").attr("src")!=o){var r=e.closest(".sb_woo_product_image_container");if(0==r.length)var r=jQuery(".sb_woo_product_image_container");if(r.length){r.find(".sb_woo_product_image img").trigger("zoom.destroy"),r.find(".sb_woo_product_image img.zoomImg").remove();var c=r.find(".sb_woo_product_image img").height();r.find(".sb_woo_product_image").css("height",c+"px"),r.find(".sb_woo_product_image img").fadeOut(400,function(){r.find(".sb_woo_product_image img").attr("src",o),r.find(".sb_woo_product_image").imagesLoaded(function(){var o=r.find(".sb_woo_product_image img").height();r.find(".sb_woo_product_image").css("height",o+"px"),r.find(".sb_woo_product_image img").fadeIn(400,function(){r.find(".sb_woo_product_image").hasClass("sb_woo_image_disable_zoom")?r.find(".sb_woo_product_image").hasClass("sb_woo_image_disable_lightbox")||jQuery(".sb_woo_product_image").colorbox({href:r.find(".sb_woo_product_image img").attr("src")}):r.find(".sb_woo_product_image").zoom({callback:function(){r.find(".sb_woo_product_image").hasClass("sb_woo_image_disable_lightbox")||jQuery(this).colorbox({href:r.find(".sb_woo_product_image img").attr("src")})}})})})})}}}function sb_woo_product_thumb_replace(o){sb_woo_product_thumb_replace_by_url(o.data("large_image"),o)}jQuery(document).ready(function(){if(jQuery(".single-product .sb_woo_product_image").length&&(jQuery(".single-product .sb_woo_product_image").hasClass("sb_woo_image_disable_zoom")?jQuery(".single-product .sb_woo_product_image").hasClass("sb_woo_image_disable_lightbox")||jQuery(".sb_woo_product_image").colorbox({href:jQuery(".single-product .sb_woo_product_image img").attr("src")}):jQuery(".single-product .sb_woo_product_image").zoom({callback:function(){jQuery(".single-product .sb_woo_product_image").hasClass("sb_woo_image_disable_lightbox")||jQuery(this).colorbox({href:jQuery(".single-product .sb_woo_product_image img").attr("src")})}})),jQuery(".single-product .cart.variations_form")&&jQuery(".single-product .cart.variations_form .variations .value select").each(function(o,e){jQuery(this).change(function(){sb_woo_variation_image()})}),jQuery(".woocommerce-remove-coupon").length&&jQuery(".et_pb_woo_checkout_coupon").slideUp(),jQuery(document.body).on("wc_fragments_refreshed",function(){}),jQuery("body").hasClass("wli_injected")){if(jQuery(".wpcf7").length>0){var o=document.body.className.match(/(^|\s)postid-(\d+)(\s|$)/);o&&(jQuery("input[name='_wpcf7_container_post']").val(o[2]),jQuery(".wpcf7-submit").addClass("button"),jQuery(".wpcf7-form > p").addClass("form-row"),jQuery(".wpcf7-form > p .wpcf7-form-control-wrap input").addClass("input-text"))}jQuery(document.body).on("added_to_cart",function(){setTimeout(function(){jQuery(".added_to_cart").addClass("button")},50)}),jQuery(document.body).on("wc_fragments_loaded",function(){wli_refresh_cart_count()}),jQuery(document.body).on("wc_fragments_refreshed",function(){wli_refresh_cart_count()}),jQuery(document.body).on("checkout_error",function(){jQuery(".woocommerce-NoticeGroup").length&&(sb_woo_popup_notice(jQuery(".woocommerce-NoticeGroup").html()),setTimeout(function(){jQuery(".woocommerce-NoticeGroup").remove()},250))}),jQuery(document.body).on("updated_wc_div",function(){jQuery(".woocommerce .woocommerce-error").length&&(sb_woo_popup_notice(jQuery(".woocommerce .woocommerce-error")),jQuery(".entry-content .woocommerce .woocommerce-error").remove()),jQuery(".woocommerce .woocommerce-message").length&&(sb_woo_popup_notice(jQuery(".woocommerce .woocommerce-message").clone().wrap("<div />")),jQuery(".entry-content .woocommerce .woocommerce-message").remove()),jQuery(".cart-empty").length>0&&jQuery(".et_pb_woo_cart_totals").remove()}),jQuery(document.body).on("applied_coupon",function(){jQuery(".woocommerce .woocommerce-error").length&&(sb_woo_popup_notice(jQuery(".woocommerce .woocommerce-error")),jQuery(".entry-content .woocommerce .woocommerce-error").remove())}),jQuery(document.body).on("removed_coupon",function(){jQuery(".woocommerce .woocommerce-message").length&&(sb_woo_popup_notice(jQuery(".woocommerce .woocommerce-message").clone().wrap("<div />")),jQuery(".entry-content .woocommerce .woocommerce-message").remove())}),jQuery(document.body).on("update_checkout",function(){jQuery(".wli_wrapper_checkout-form-coupon .woocommerce-error").length?(sb_woo_popup_notice(jQuery(".wli_wrapper_checkout-form-coupon .woocommerce-error").clone().wrap("<div />")),jQuery(".et_pb_woo_checkout_coupon").slideDown()):jQuery(".wli_wrapper_checkout-form-coupon .woocommerce-message").length?(sb_woo_popup_notice(jQuery(".wli_wrapper_checkout-form-coupon .woocommerce-message").clone().wrap("<div />")),jQuery(".coupon-module").val(""),jQuery(".woocommerce-remove-coupon").length?jQuery(".et_pb_woo_checkout_coupon").slideDown():jQuery(".et_pb_woo_checkout_coupon").slideUp()):jQuery(".woocommerce .woocommerce-message").length&&(sb_woo_popup_notice(jQuery(".woocommerce .woocommerce-message").clone().wrap("<div />")),setTimeout(function(){jQuery(".entry-content > .woocommerce > .woocommerce-message").remove()},250))})}});